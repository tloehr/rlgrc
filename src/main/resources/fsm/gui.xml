<?xml version="1.0" encoding="UTF-8"?>
<FSM>
    <STATE id="GAME_SLOT_SELECTED" type="ID">
        <!--
            Load Server Status and print to log
            determine state of the game
        -->
        <MESSAGE id="prolog" nextState="PROLOG"/>
        <MESSAGE id="pausing" nextState="PAUSING"/>
        <MESSAGE id="running" nextState="RUNNING"/>
        <MESSAGE id="epilog" nextState="EPILOG"/>
        <MESSAGE id="no_game_loaded" nextState="EDIT_GAME"/>
    </STATE>

    <STATE id="EDIT_GAME">
        <!--
                 enable params
                 disable all buttons besides load
              -->
        <MESSAGE id="game_slot_changed" nextState="GAME_SLOT_SELECTED"/>
        <MESSAGE id="load_game" nextState="prolog"/>
    </STATE>

    <STATE id="PROLOG">
        <!--

                          +load
                          +run
                          -PAUSE
                          -RESET
                          +UNLOAD
                       -->
        <MESSAGE id="game_slot_changed" nextState="GAME_SLOT_SELECTED"/>
        <MESSAGE id="run" nextState="RUNNING"/>
        <MESSAGE id="unload" nextState="EDIT_GAME"/>
    </STATE>

    <STATE id="PAUSING">
        <!--
                  -load
                  -run
                  +PAUSE -> RESUME Icon change
                  +RESET
                  +UNLOAD
               -->
        <MESSAGE id="game_slot_changed" nextState="GAME_SLOT_SELECTED"/>
        <MESSAGE id="resume" nextState="RUNNING"/>
        <MESSAGE id="reset" nextState="PROLOG"/>
        <MESSAGE id="unload" nextState="GAME_SLOT_SELECTED"/>
    </STATE>
    <STATE id="RUNNING">
        <!--
                            disable params
                          -load
                          -run
                          +RESUME  -> PAUSE Icon change
                          -RESET
                          -UNLOAD

                          determine state of the game
                       -->
        <MESSAGE id="game_slot_changed" nextState="GAME_SLOT_SELECTED"/>
        <MESSAGE id="pause" nextState="PAUSING"/>
    </STATE>
    <STATE id="EPILOG">
        <!--
                       -load
                       -run
                       -PAUSE
                       +RESET
                       +UNLOAD

                       determine state of the game
                    -->
        <MESSAGE id="game_slot_changed" nextState="GAME_SLOT_SELECTED"/>
        <MESSAGE id="reset" nextState="PROLOG"/>
        <MESSAGE id="unload" nextState="EDIT_GAME"/>
    </STATE>

</FSM>
